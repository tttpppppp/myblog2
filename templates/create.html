{% extends "base.html" %}

{% block title %}Tạo bài viết{% endblock %}

{% block content %}
    <main class="container mx-auto max-w-3xl px-6 py-10 bg-gray-50 min-h-screen flex items-center justify-center">
        <div class="bg-white shadow-xl rounded-2xl p-8 w-full">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-8 border-b pb-4">Tạo Bài Viết Mới</h2>
            <form id="post-form" method="POST" enctype="multipart/form-data" action="/taobaiviet" class="space-y-6">

                <!-- Tiêu đề bài viết -->
                <div>
                    <label for="post-title" class="block text-gray-700 font-semibold mb-2">Tiêu đề bài viết</label>
                    <input
                            type="text"
                            id="post-title"
                            name="title"
                            placeholder="Nhập tiêu đề bài viết..."
                            required
                            class="w-full px-5 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
                    />
                </div>

                <!-- Danh mục -->
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Danh mục</label>
                    <div class="grid grid-cols-2 gap-3 max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-3 bg-gray-50">
                        {% for category in categories %}
                            <label class="flex items-center space-x-2 cursor-pointer text-gray-700 hover:text-blue-600">
                                <input type="checkbox" name="category_ids" value="{{ category.id }}" class="form-checkbox h-5 w-5 text-blue-600" />
                                <span>{{ category.name }}</span>
                            </label>
                        {% endfor %}
                    </div>
                </div>

                <!-- Trạng thái bài viết -->
                <div>
                    <label for="post-status" class="block text-gray-700 font-semibold mb-2">Trạng thái bài viết</label>
                    <select
                            id="post-status"
                            name="status"
                            required
                            class="w-full px-5 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition bg-white"
                    >
                        <option value="published">Công khai</option>
                        <option value="draft">Nháp</option>
                        <option value="archived">Lưu trữ</option>
                    </select>
                </div>

                <!-- Hình ảnh bài viết -->
                <div>
                    <label for="post-image" class="block text-gray-700 font-semibold mb-2">Hình ảnh bài viết</label>
                    <input
                            type="file"
                            id="post-image"
                            name="image"
                            accept="image/*"
                            class="w-full text-gray-600"
                    />
                </div>

                <!-- Mô tả -->
                <div>
                    <label for="description" class="block text-gray-700 font-semibold mb-2">Mô tả</label>
                    <textarea
                            id="description"
                            name="description"
                            placeholder="Mô tả bài viết"
                            rows="3"
                            class="w-full px-5 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition bg-white text-gray-800"
                    ></textarea>
                </div>

                <!-- Tags -->
                <div>
                    <label for="tags" class="block text-gray-700 font-semibold mb-2">Tags (ngăn cách bằng dấu phẩy)</label>
                    <input
                            type="text"
                            id="tags"
                            name="tags"
                            placeholder="ví dụ: công nghệ, AI, học lập trình"
                            class="w-full px-5 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
                    />
                </div>

                <!-- Nội dung bài viết -->
                <div>
                    <label for="post-content" class="block text-gray-700 font-semibold mb-2">Nội dung bài viết</label>
                    <textarea
                            id="post-content"
                            name="content"
                            rows="6"
                            class="w-full px-5 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y transition bg-white text-gray-800"
                    ></textarea>
                </div>

                <!-- Buttons -->
                <div class="flex justify-end space-x-4">
                    <button
                            type="submit"
                            class="px-6 py-3 bg-blue-600 text-white rounded-full font-semibold hover:bg-blue-700 transition"
                    >
                        Đăng Bài
                    </button>
                </div>
            </form>
        </div>
    </main>

{% endblock %}
